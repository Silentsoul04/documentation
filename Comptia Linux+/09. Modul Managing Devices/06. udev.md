# udev

#### udev

The device manager **_udev_** manages the automatic detection and configuration of hardware devices. A function of systemd, udev is an integral part of the kernel that is initialized during boot time. The udev utility handles module loading for both coldpluggable and hotpluggable devices. It loads the modules for coldpluggable devices when the system is booted. The modules for hotpluggable devices are loaded by udev dynamically during system run time.

#### udev RULES

The `/etc/udev/rules.d/` directory is used to configure rules for how udev functions. You can create files in this directory that tell udev to configure a device in a certain way or run a certain command when a device is plugged in. For example, you might want to create a symbolic link to a specific device every time it is plugged in; that way, you can always refer to this device in the same way, rather than relying on the unpredictable and non-descriptive /dev/ naming scheme like /dev/sda1, /dev/sdb2, etc. In your rules file, you'd need to refer to the device by attributes that are unique to that device, like its vendor and product IDs. For example, the following line in a rules file will create a symbolic link to a specific USB thumb drive when it is plugged in:

```Shell
KERNEL=="sd*", ATTRS{idVendor}=="334455", ATTRS{idProduct}=="667788", SYMLINK+="myusb"
``` 

Similar to writing rules for GRUB, you name this rule file in the format ##-name.rules where ## determines its order in being executed by udev.

**_ADDITIONAL udev RULES DIRECTORIES_**  

There are actually several directories that are used to configure udev rules. The `/etc/udev/rules.d/` directory mentioned previously is primarily used for local administration of udev. An administrator applies their own customizations to this directory so that udev behaves in accordance with the administrator's preferences and/or the organization's business needs. As a result, the files in this directory are loaded with the highest priority.

The `/usr/lib/udev/rules.d/` directory also contains udev rules. However, these rules are generated by the system, and you should refrain from editing them. Rules in this directory are low priority, so a custom rule named 60-keyboard.rules in `/etc/udev/rules.d/` will supersede the default 60-keyboard.rules file in the `/usr/lib/udev/rules.d/` path.

Rules files can also be placed in the `/run/udev/rules.d/` directory. These also take precedence over the system rules path. Rules in this path are volatile, meaning that they will apply at runtime but will be lost in the event of a system reboot. Volatile rules can be useful when you need to temporarily override a system rule without actually making the change persist.